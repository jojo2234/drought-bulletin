<!DOCTYPE html><html><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/><meta name="author" content="Alessandro Mazzeo"/><title>Drought Bulletin</title><link rel="stylesheet" href="leaflet/leaflet.css"/><link rel="stylesheet" href="css/my.css"/><link rel="icon" href="img/favicon.png"/><script>if(navigator.userAgent.search(".NET")>=0||navigator.userAgent.search("Edge/18")>=0){alert("Warning, your browser could not be supported.");}</script><script src="js/jquery.min.js"></script><script src="leaflet/leaflet.js"></script>  <script src="./js/jquery.min.js"></script><script src="./js/ammap.js"></script><script src="./js/amcharts.js"></script><script src="./js/serial.js"></script><script src="./js/light.js"></script><script src="am4/core.js"></script><script src="am4/charts.js"></script><script src="am4/themes/animated.js"></script><script src="leaflet/leaflet-heat.js"></script></head><body><div id='mapid'><div id='overPluvo' style="visibility: hidden;overflow-y: auto;" onmouseover='q_()' onmouseout='r_()'><p>Loading..</p></div></div></body><script>var _a=0;var _b;var _c;var _d;var _e=['#000','#0000ff','#008000','#d9dadb42','#ffa500','#ff0000','#a52a2a','#a52a2a'];var _f=0.7;var _g;var _h=false;var _i=true;var _j;var _k=L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibG9iZXJyeSIsImEiOiJja2k1cGppY2gwMmI5MnhwNnQ4aXB6YnV3In0.77-4bVfokUGy9V0RKNag1g',{attribution: 'Map data &copy;<a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery from MOBAC',maxZoom: 11,id: 'mapbox/_k-v9',tileSize: 256,layers: [_k, _l],accessToken: 'your.mapbox.access.token'});var _l=L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibG9iZXJyeSIsImEiOiJja2k1cGppY2gwMmI5MnhwNnQ4aXB6YnV3In0.77-4bVfokUGy9V0RKNag1g',{attribution: 'Map data &copy;<a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery from MOBAC',maxZoom: 13,id: 'mapbox/streets-v11',tileSize: 256,accessToken: 'your.mapbox.access.token'});var _m=L.map('mapid',{center: [42.60744445999161, 12.7342599416889],zoom: 8,layers: [_k, _l]});var _n={"Satellite": _k,"Streets": _l};var _o={"_l": _l};L.control.layers(_n, _o).addTo(_m);var _n={"<span>Satellite</span>": _k,"<span>Streets</span>": _l};function a_(){document.getElementById("overPluvo").style="visibility:hidden";document.getElementById("chdivg").remove();}function b_(){(_h==false)?_h=true:_h=false;if(_j!=undefined){if(_j==true){if(_h==true){s_Old();}else{s_();}}else{if(_h==true){t_Old();}else{t_();}}}}function c_(elem){document.getElementById("overPluvo").style="visibility:visible";_g=elem;$.getJSON("api/queries.php?funzione=5&id="+elem, function(data){document.getElementById("overPluvo").innerHTML="<div style='font-weight:bold;width:100%;padding-top:3px;'>ID: "+elem+" Nome: "+data[0]["Nome"]+" QuotaDTM: "+data[0]["QuotaDTM"]+" Codice Distretto: "+data[0]["ID_Distretto"]+"<span style='text-align:right;float:right;padding-right:5px;'><a href='#' style='color:gray;text-decoration:none;font-size:14px;' onclick='a_()'>X</a></span></div><p>Show information in a date range or for each year in that month.</p><br/><div>From date: <input id='indt' type='date' onchange='t_()'/> To: <input id='fidt' type='date' onchange='t_()'/> or select month: <select id='selmo' onchange='s_()' style='margin-right:4px;'><option value='0'></option><option value='1'>January</option><option value='2'>February</option><option value='3'>March</option><option value='4'>April</option><option value='5'>May</option><option value='6'>June</option><option value='7'>July</option><option value='8'>August</option><option value='9'>September</option><option value='10'>October</option><option value='11'>November</option><option value='12'>December</option></select><div id='spon'></div><div id='chdivg'></div><label> Change graphs: </label><input id='_h' type='checkbox' onchange='b_()'/></div>";$.getJSON("api/queries.php?funzione=8&id="+elem, function(data){if(data==undefined||data.length <= 0){document.getElementById("selmo").disabled=true;}});document.getElementById("spon").style="display:inline-block;";$.getJSON("api/queries.php?funzione=9&id="+elem, function(data){if(data==null||data==undefined){if(document.getElementById("selmo").disabled==true){document.getElementById("chdivg").innerHTML='<br/><h3 style="text-align:center;">No data available for the selected station!</h3>';}else{document.getElementById("selmo").selectedIndex=2;s_();}document.getElementById("spon").style="display:none;";}else{document.getElementById("fidt").value=data[0]["Data"];var d=new Date(data[0]["Data"]);d.setMonth(d.getMonth()-3);var meseZ=d.getMonth()+1;if((meseZ)<=9){meseZ="0"+meseZ.toString()};document.getElementById("indt").value=(d.getFullYear()+"-"+meseZ+"-"+d.getDate());t_();document.getElementById("spon").style="display:none;";}});});}function d_(d){return d>3?_e[0] : d>2?_e[1] : d>1.5?_e[2] : d>-1.5?_e[3] : d>-2?_e[4] :d>-3?_e[5] : d>-4?_e[6] : _e[7];}function e_(feature){return{fillColor: d_(feature.properties.spi),weight: 1,opacity: _f,color: d_(feature.properties.spi),dashArray: '1',fillOpacity: _f};}function f_(){$.getJSON("api/queries.php?funzione=3", function(data){var valoriDate=[];for (i=0;i<data.length;i++){valoriDate[i]=(data[i]["data"]);}document.getElementById("data").innerHTML='<option value="'+valoriDate[0]+'">'+valoriDate[0].substring(0,7)+'</option>';for (i=1;i<(valoriDate.length);i++){document.getElementById("data").innerHTML=document.getElementById("data").innerHTML+'<option value="'+valoriDate[i]+'">'+valoriDate[i].substring(0,7)+'</option>';}i_();});}function g_(feature, layer){if(feature.properties&&feature.properties.name){layer.bindPopup("<div style='text-align: center;'><p style='margin-bottom: 0px;'>"+feature.properties.name+"</p><p style='font-size:10px;font-style:italic;margin-top: 0px;'><a id='"+feature.properties.idSta+"' href='#' onclick='c_(this.id)'>Explore</a></p></div>");layer.on('mouseover', function(e){this._icon.src="leaflet/images/sbt.png";});layer.on('mouseout', function(e){this._icon.src="leaflet/images/marker-icon.png";});}}function h_(feature, layer){if(feature.properties&&feature.properties.spi){layer.bindPopup("SPI="+feature.properties.spi.toFixed(2));}}function i_(){var datael=document.getElementById("data").value;$.getJSON("api/queries.php?funzione=1&data="+datael, function(data){var valoriSPI=[];for (i=0;i<data.length;i++){valoriSPI[i]=(data[i]["mese"]);}document.getElementById("mesi").innerHTML='<option value="'+valoriSPI[0]+'">'+valoriSPI[0]+'</option>';for (i=1;i<(valoriSPI.length);i++){document.getElementById("mesi").innerHTML=document.getElementById("mesi").innerHTML+'<option value="'+valoriSPI[i]+'">'+valoriSPI[i]+'</option>';}o_();});}function j_(){_f=(document.getElementById("opac").value / 100);p_();document.getElementById("valOpac").innerHTML=_f;};var tmpJSON;var geojsonFeature='{"type":"FeatureCollection", "features":[';function k_(){if(document.getElementById("celid").checked==true){_m.removeLayer(_b);_c=L.geoJSON(tmpJSON).addTo(_m);_b.addTo(_m);} else{_m.removeLayer(_c);}}function l_(){if(document.getElementById("siaD").checked==true){_i=true;_b.addTo(_m);}else{_i=false;_m.removeLayer(_b);}}function m_(){var stationsPl='{"type":"FeatureCollection", "features":[';if(document.getElementById("pluid").checked==true){$.getJSON("api/queries.php?funzione=4", function(data){stationsPl += '{"type":"Feature","geometry":{"type":"Point","coordinates":['+JSON.parse(data[0]["Longitudine"])+','+JSON.parse(data[0]["Latitudine"])+']},"properties":{"name":"'+data[0]["Nome"]+'","idSta":"'+data[0]["ID"]+'"}}';for (i=1;i<data.length;i++){stationsPl += ',{"type":"Feature","geometry":{"type":"Point","coordinates":['+JSON.parse(data[i]["Longitudine"])+','+JSON.parse(data[i]["Latitudine"])+']},"properties":{"name":"'+data[i]["Nome"]+'","idSta":"'+data[i]["ID"]+'"}}';}stationsPl += ']}';_d=L.geoJSON(JSON.parse(stationsPl),{onEachFeature: g_}).addTo(_m);});} else{_m.removeLayer(_d);}}  function n_(){var valpath=document.getElementById("_es").value;document.getElementById("colgimg").src=valpath;switch (valpath){case "img/f.png": _e=['#104375','#508fa6','#a4ced2','#f4eeeb79','#ecc2ae','#c26c61','#a03136','#7a0b24'];break;case "img/e.png": _e=['#575da8','#6ab5be','#93e08a','#fcf9b183','#f4da92','#e1a068','#cd6145','#b72131'];break;case "img/d.png": _e=['#0e5aad','#5e9dce','#a3d8ec','#faf9c079','#eebe65','#ce6b34','#b62e10','#af1d05'];break;case "img/c.png": _e=['#1f9941','#74b958','#dadb74','#faf6ad3b','#f7d674','#f9a052','#fe3f15','#ff1b05'];break;case "img/b.png": _e=['#0000ff','#0000ff','#008000','#d9dadb42','#ffa500','#ff0000','#ff0000','#a52a2a'];break;case "img/a.png": _e=['#000','#0000ff','#008000','#d9dadb42','#ffa500','#ff0000','#a52a2a','#a52a2a'];break;}p_();}function o_(){document.getElementById("spin").style="display:inline-block;";var mesesel=document.getElementById("mesi").value;var datael=document.getElementById("data").value;$.getJSON("api/queries.php?funzione=2&mese="+mesesel+"&data="+datael, function(data){geojsonFeature += '{"type":"Feature","geometry":{"type":"Polygon","coordinates":'+(data[0]["Poligono"])+'},"properties":{"idCella":'+JSON.parse(data[0]["ID"])+',"spi":'+JSON.parse(data[0]["SPI"])+',"latCentroid":'+JSON.parse(data[0]["Centroide"])[0]+',"lngCentroid":'+JSON.parse(data[0]["Centroide"])[1]+'}}';for (i=1;i<data.length;i++){geojsonFeature += ',{"type":"Feature","geometry":{"type":"Polygon","coordinates":'+(data[i]["Poligono"])+'},"properties":{"idCella":'+JSON.parse(data[i]["ID"])+',"spi":'+JSON.parse(data[i]["SPI"])+',"latCentroid":'+JSON.parse(data[i]["Centroide"])[0]+',"lngCentroid":'+JSON.parse(data[i]["Centroide"])[1]+'}}';}geojsonFeature += ']}';tmpJSON=JSON.parse(geojsonFeature);geojsonFeature='{"type":"FeatureCollection", "features":[';if(_a){_m.removeLayer(_b);}if(_i==true){_b=L.geoJson(tmpJSON,{style: e_, onEachFeature: h_ }).addTo(_m);}else{_b=L.geoJson(tmpJSON,{style: e_, onEachFeature: h_ });}_a=1;document.getElementById("spin").style="display:none;";});}function p_(){if(_a){_m.removeLayer(_b);}if(_i==true){_b=L.geoJson(tmpJSON,{style: e_, onEachFeature: h_ }).addTo(_m);}}function q_(){_m.dragging.disable();}function r_(){_m.dragging.enable();}function s_(){_j=true;if(_h==false){var selmonth=document.getElementById("selmo").value;if(selmonth!=undefined&&selmonth!=""&&selmonth!="0"){document.getElementById("spon").style="display:inline-block;";$.getJSON("api/queries.php?funzione=7&slm="+selmonth+"&id="+_g, function(data){var dataText="";var sum=0;var avg=0;var first=0;for (i=0;i<data.length;i++){if(data[i]["Anno"]>0){if(first==0){dataText=(dataText+'[{"date":"'+data[i]["Anno"]+'", "value":'+data[i]["Valore"]+'}');first=1;} else{dataText=(dataText+',{"date":"'+data[i]["Anno"]+'", "value":'+data[i]["Valore"]+'}');}sum=sum+data[i]["Valore"];}}avg=(sum / (data.length));dataText=dataText+']';var jsonData=JSON.parse(dataText);var chart=AmCharts.makeChart( "chdivg",{"type": "serial","theme": "none","dataProvider": jsonData,"valueAxes": [{"gridColor": "#FFFFFF","gridAlpha": 0.2,"dashLength": 0} ],"gridAboveGraphs": true,"startDuration": 1,"graphs": [{"balloonText": "[[date]]: <b>[[value]]</b>","fillAlphas": 0.8,"lineAlpha": 0.2,"type": "column","valueField": "value"} ],"chartCursor":{"categoryBalloonEnabled": false,"cursorAlpha": 0,"zoomable": false},"categoryField": "date","categoryAxis":{"gridPosition": "start","gridAlpha": 0,"tickPosition": "start","tickLength": 20,"axisColor": "transparent"},"export":{"enabled": true}});document.getElementById("spon").style="display:none;";});}}else{s_Old();}}function s_Old(){_j=true;document.getElementById("_h").checked=true;var selmonth=document.getElementById("selmo").value;if(selmonth!=undefined&&selmonth!=""&&selmonth!="0"){document.getElementById("spon").style="display:inline-block;";$.getJSON("api/queries.php?funzione=7&slm="+selmonth+"&id="+_g, function(data){var dataText="";var sum=0;var avg=0;for (i=0;i<data.length;i++){if(i==0){dataText=(dataText+'[{"date":"'+data[i]["Anno"]+"-"+selmonth+'", "media":'+data[i]["Valore"]+'}');} else{dataText=(dataText+',{"date":"'+data[i]["Anno"]+"-"+selmonth+'", "media":'+data[i]["Valore"]+'}');}sum=sum+data[i]["Valore"];}avg=(sum / (data.length));dataText=dataText+']';var jsonData=JSON.parse(dataText);var chart=AmCharts.makeChart("chdivg",{"type": "serial","theme": "light","marginRight": 80,"marginTop": 17,"autoMarginOffset": 20,"dataProvider": jsonData,"mediaueAxes": [{"logarithmic": true,"dashLength": 1,"guides": [{"dashLength": 6,"inside": true,"label": "media","lineAlpha": 1,"mediaue": avg}],"position": "left"}],"graphs": [{"bullet": "round","id": "g1","bulletBorderAlpha": 1,"bulletColor": "#FFFFFF","lineColor": "#dd6108","bulletSize": 4,"lineThickness": 1,"title": "Monthly","type": "smoothedLine","useLineColorForBulletBorder": true,"valueField": "media"}],"chartScrollbar":{},"chartCursor":{"valueLineEnabled": true,"valueLineBalloonEnabled": true,"valueLineAlpha": 0.5,"fullWidth": true,"cursorAlpha": 0.05},"dataDateFormat": "YYYY-MM","categoryField": "date","categoryAxis":{"parseDates": true}});document.getElementById("spon").style="display:none;";});}}function t_(){_j=false;if(_h==false){var startdate=document.getElementById("indt").value;var endate=document.getElementById("fidt").value;if(startdate!=undefined&&startdate!=""&&endate!=undefined&&endate!=""){document.getElementById("spon").style="display:inline-block;";$.getJSON("api/queries.php?funzione=6&st="+startdate+"&fi="+endate+"&id="+_g, function(data){if(data!=null){var dataText="";var sum=0;var avg=0;var names=[];for (i=0;i<data.length;i++){names[i]=(data[i]["Data"]+"");if(i==0){dataText=(dataText+'[{"date":"'+data[i]["Data"]+'", "value":'+data[i]["Valore"]+'}');} else{dataText=(dataText+',{"date":"'+data[i]["Data"]+'", "value":'+data[i]["Valore"]+'}');}sum=sum+data[i]["Valore"];}avg=(sum / (data.length));dataText=dataText+']';var jsonData=JSON.parse(dataText);var chart=AmCharts.makeChart( "chdivg",{"type": "serial","theme": "none","dataProvider": jsonData,"valueAxes": [{"gridColor": "#FFFFFF","gridAlpha": 0.2,"dashLength": 0} ],"gridAboveGraphs": true,"startDuration": 1,"graphs": [{"balloonText": "[[date]]: <b>[[value]]</b>","fillAlphas": 0.8,"lineAlpha": 0.2,"lineColor": "#337ff0","type": "column","valueField": "value"} ],"chartCursor":{"categoryBalloonEnabled": false,"cursorAlpha": 0,"zoomable": false},"categoryField": "date","categoryAxis":{"gridPosition": "start","gridAlpha": 0,"tickPosition": "start","tickLength": 20,"axisColor": "transparent"},"export":{"enabled": true}});document.getElementById("spon").style="display:none;";} else{document.getElementById("chdivg").innerHTML='<br/><h3 style="text-align:center;">No data available for the selected range!</h3>';}});}}else{t_Old();}}function t_Old(){_j=false;document.getElementById("_h").checked=true;var startdate=document.getElementById("indt").value;var endate=document.getElementById("fidt").value;if(startdate!=undefined&&startdate!=""&&endate!=undefined&&endate!=""){document.getElementById("spon").style="display:inline-block;";$.getJSON("api/queries.php?funzione=6&st="+startdate+"&fi="+endate+"&id="+_g, function(data){if(data!=null){var dataText="";var sum=0;var avg=0;var names=[];for (i=0;i<data.length;i++){names[i]=(data[i]["Data"]+"");if(i==0){dataText=(dataText+'[{"date":"'+data[i]["Data"]+'", "media":'+data[i]["Valore"]+'}');} else{dataText=(dataText+',{"date":"'+data[i]["Data"]+'", "media":'+data[i]["Valore"]+'}');}sum=sum+data[i]["Valore"];}avg=(sum / (data.length));dataText=dataText+']';var jsonData=JSON.parse(dataText);am4core.ready(function(){am4core.useTheme(am4themes_animated);var chart=am4core.create("chdivg", am4charts.XYChart);var dati=[];var value=120;for (var i=0;i<names.length;i++){value=data[i]["Valore"];dati.push({category: names[i], value: value});}chart.data=dati;var categoryAxis=chart.xAxes.push(new am4charts.CategoryAxis());categoryAxis.renderer.grid.template.location=0;categoryAxis.dataFields.category="category";categoryAxis.renderer.minGridDistance=15;categoryAxis.renderer.grid.template.location=0.5;categoryAxis.renderer.grid.template.strokeDasharray="1,3";categoryAxis.renderer.labels.template.rotation=-90;categoryAxis.renderer.labels.template.horizontalCenter="left";categoryAxis.renderer.labels.template.location=0.5;categoryAxis.renderer.labels.template.adapter.add("dx", function(dx, target){return -target.maxRight / 2;});var valueAxis=chart.yAxes.push(new am4charts.ValueAxis());valueAxis.tooltip.disabled=true;valueAxis.renderer.ticks.template.disabled=true;valueAxis.renderer.axisFills.template.disabled=true;var series=chart.series.push(new am4charts.ColumnSeries());series.dataFields.categoryX="category";series.dataFields.valueY="value";series.tooltipText="{valueY.value}";series.sequencedInterpolation=true;series.fillOpacity=0;series.strokeOpacity=1;series.strokeDashArray="1,3";series.columns.template.width=0.01;series.tooltip.pointerOrientation="horizontal";var bullet=series.bullets.create(am4charts.CircleBullet);chart.cursor=new am4charts.XYCursor();chart.scrollbarX=new am4core.Scrollbar();chart.scrollbarY=new am4core.Scrollbar();});document.getElementById("spon").style="display:none;";} else{document.getElementById("chdivg").innerHTML='<br/><h3 style="text-align:center;">No data available for the selected range!</h3>';}});}};function u_(vsp){var a=0.7;switch (true){case vsp>3:a=0;break;case vsp>2:a=0.1;break;case vsp>1.5:a=0.2;break;case vsp>-1.5:a=0.3;break;case vsp>-2:a=0.4;break;case vsp>-3:a=0.5;break;case vsp>-4:a=0.6;break;default:a=0.7;break;}return a;}var heat;function v_(){var vog=[[], [], [], [], [], [], []];if(document.getElementById("hmap").checked==true){let colore;let hmap=new Array();for (let i=0;i<tmpJSON["features"].length;i++){colore=u_(tmpJSON["features"][i]["properties"]["spi"]);hmap.push([tmpJSON["features"][i]["properties"]["latCentroid"], tmpJSON["features"][i]["properties"]["lngCentroid"], colore]);}heat=L.heatLayer(hmap,{radius:25,blur:25,maxZoom:11,gradient:{0.1:_e[0],0.2:_e[1],0.3:_e[2],0.4:_e[3],0.5:_e[4],0.6:_e[5],0.7:_e[6],0.8:_e[7]}}).addTo(_m);} else{_m.removeLayer(heat);}};var legend=L.control({position: 'topleft' });legend.onAdd=function(map){var div=L.DomUtil.create('div','legenda');div.innerHTML='<div class="mainBar"><span>Date <select id="data" onchange="i_()"><option value="2020-12-01">2020-12</option></select></span><span> SPI scale <select id="mesi" onchange="o_()"><option value="1">1</option></select></span><span>SPI palette <select id="_es" onchange="n_()"><option value="img/f.png">Spectral</option><option value="img/e.png">RedBlu</option><option value="img/d.png">RedYellowlBlu</option><option value="img/c.png">RedYellowGreen</option><option value="img/b.png">Threshold5</option><option value="img/a.png" selected="">Threshold7</option></select></span><div id="spin"></div></div><div id="colleg"><img id="colgimg" onmouseover="q_()" onmouseout="r_()" src="img/a.png"/><div id="opaDiv"><span>Opacity:</span><input type="range" min="0" max="100" value="70" class="slider" id="opac" onmouseover="q_()" onmouseout="r_()" onchange="j_()"/><span id="valOpac">0.7</span></div></div>';div.firstChild.onmousedown=div.firstChild.ondblclick=L.DomEvent.stopPropagation;return div;};legend.addTo(_m);legend.getContainer().addEventListener('mouseover', q_);legend.getContainer().addEventListener('mouseout', r_);document.getElementsByClassName('legenda leaflet-control')[0].style="top:20px;left:16px;";document.getElementsByClassName('leaflet-control-container')[0].append(document.getElementsByClassName('legenda leaflet-control')[0]);var imel=document.createElement("img");imel.setAttribute("src", "img/s.png");imel.setAttribute("width", "14");imel.setAttribute("style", "padding-left: 5px;vertical-align: middle;");var imal=document.createElement("img");imal.setAttribute("src", "img/l.png");imal.setAttribute("width", "14");imal.setAttribute("style", "padding-left: 10px;vertical-align: middle;");document.getElementsByTagName('label')[0].append(imel);document.getElementsByTagName('label')[1].append(imal);document.getElementsByTagName('label')[0].firstChild.style="display: inline;";document.getElementsByTagName('label')[1].firstChild.style="display: inline;";f_();document.getElementsByClassName('leaflet-control-container')[0].append(document.getElementById("colleg"));document.getElementsByClassName('leaflet-control-layers-selector')[2].checked=false;document.getElementsByClassName('leaflet-control-layers-selector')[2].parentElement.style="display:none;";var celLayer=document.createElement('label');celLayer.innerHTML='<div><input type="checkbox" id="celid" class="leaflet-control-layers-selector" onclick="k_()"/><span>Cells</span></div>';var spiLay=document.createElement('label');spiLay.innerHTML='<div><input type="checkbox" id="siaD" class="leaflet-control-layers-selector" onclick="l_()" checked/><span>SPI Layer</span></div>';var pluvLay=document.createElement('label');pluvLay.innerHTML='<div><input type="checkbox" id="pluid" class="leaflet-control-layers-selector" onclick="m_()"/><span>Stations</span></div>';var htmp=document.createElement('label');htmp.innerHTML='<div><input type="checkbox" id="hmap" class="leaflet-control-layers-selector" onclick="v_()"/><span>Heat map</span></div>';document.getElementsByClassName("leaflet-control-layers-overlays")[0].append(celLayer);document.getElementsByClassName("leaflet-control-layers-overlays")[0].append(spiLay);document.getElementsByClassName("leaflet-control-layers-overlays")[0].append(pluvLay);document.getElementsByClassName("leaflet-control-layers-overlays")[0].append(htmp);if(navigator.userAgent.search(".NET")>=0||navigator.userAgent.search("Edge/18")>=0){document.getElementsByClassName('legenda leaflet-control')[0].style="top:20px;left:16px;font-size:12px;";document.getElementsByTagName("body")[0].insertBefore(document.getElementsByClassName('legenda leaflet-control')[0], document.getElementsByTagName("body")[0].firstChild);}if(window.innerWidth<720){alert("Screen resolution could not be supported!");}</script></html>